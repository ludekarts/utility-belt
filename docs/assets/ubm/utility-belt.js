function e(e){var r={"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ż":"z","ź":"z"," ":"-"};return e.toLowerCase().replace(/[\Wąćęłńóśżź_ ]/g,function(e){return r[e]||""}).replace(/-{2,}/,"-")}function r(e){return!!e&&"symbol"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e&&"function"!=typeof e&&!Array.isArray(e)}function t(e,r){for(var t=e[0],n=e[1],o=!1,i=0,a=r.length-1;i<r.length;a=i++){var u=r[i][0],c=r[i][1],f=r[a][1];c>n!=f>n&&t<(r[a][0]-u)*(n-c)/(f-c)+u&&(o=!o)}return o}function n(e){var r=[2,3,4],t=[11,12,13,14];return function(n){return 1===n?e.one:!r.includes(n%10)||t.includes(n)?e.multiple:e.couple}}function o(e,r){return Math.floor(Math.random()*(r-e+1))+e}function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}function a(e,r){var t=r.length,n=e.length;if(n>t)return!1;if(n===t)return e===r;e:for(var o=0,i=0;o<n;o++){for(var a=e.charCodeAt(o);i<t;)if(r.charCodeAt(i++)===a)continue e;return!1}return!0}function u(e,r){return s(r)?void 0===r?e:r:Array.isArray(r)||Array.isArray(e)?f(e,r):c(e,r)}function c(e,r){if(void 0===e)return r;if(void 0===r)return e;if(null===e)return r;if(null===r)return r;var t=Object.keys(r),n=Object.keys(e),o=t.concat(n.filter(function(e){return!t.includes(e)}));return o.length?o.reduce(function(t,n){var o=r[n],i=e[n];return t[n]=s(o)?void 0===o?i:o:Array.isArray(i)||Array.isArray(o)?f(i,o):o instanceof RegExp?RegExp(o.source,o.flags):c(i,o),t},{}):e}function f(e,r){if(Array.isArray(e)&&Array.isArray(r)){for(var t=e.length,n=r.length,o=[],i=0;i<t||i<n;i++)o[i]=s(r[i])?void 0===r[i]?e[i]:r[i]:Array.isArray(e[i])||Array.isArray(r[i])?f(e[i],r[i]):c(e[i],r[i]);return o}return r}function s(e){return["string","number","boolean","symbol","function","undefined"].includes(typeof e)}function l(e){return p(e)?e:Array.isArray(e)?d(e):v(e)}function d(e){return e.map(function(e){return Array.isArray(e)?d(e):p(e)?e:v(e)})}function v(e){return Object.keys(e).reduce(function(r,t){if(e.hasOwnProperty(t)){var n=e[t];r[t]=p(n)?n:Array.isArray(n)?d(n):Object.assign({},n)}return r},{})}function p(e){return null===e||["string","number","symbol","boolean","function","undefined"].includes(typeof e)}function h(e){var r,t=0,n=new Array(e);return Object.freeze({push:function(o){o&&(n[t]=o,r=n[t],t=(t+1)%e)},pull:function(){return r=n[t=(t-1+e)%e],n[t]=void 0,r},get:function(e){return n[e]},head:function(){return r},getAll:function(){return n}})}function y(){return y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},y.apply(this,arguments)}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=["mode","body","cache","method","redirect","credentials","referrerPolicy"],w=["fallback","requestHash","cacheRequests","useErrorWrapper","doNotParseResponse"],A=/*#__PURE__*/function(){function e(e){if(this.native={},this.headers={},this.requestConfig={},this.responseProcessor=[],!r(e)){if(Boolean(e))throw new Error("Config argument should be Undefuned or an Object");return this}for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&this.update(t,e[t]);Object.freeze(this.native),Object.freeze(this.headers),Object.freeze(this.requestConfig),Object.freeze(this.responseProcessor)}var t=e.prototype;return t.__updateResponseProcessor=function(e,r){if("function"==typeof r)e.responseProcessor=[r];else{if(!Array.isArray(r))throw new Error("ResponseProcessor should be Undefined. In other case it should return a Function or an Array");e.responseProcessor=r}},t.__updateHeaders=function(e,t){if("function"==typeof t)e.headers=t(y({},e.headers));else{if(!r(t))throw new Error("Headers property should be an Object");e.headers=y({},t)}},t.update=function(e,r){"responseProcessor"===e?this.__updateResponseProcessor(this,r):"headers"===e?this.__updateHeaders(this,r):g.includes(e)?this.requestConfig[e]=r:w.includes(e)&&(this.native[e]=r)},t.merge=function(r){if(!r)return this;if(!(r instanceof e))throw new Error("Configuration object should be instace of RequestConfig");return new e(y({},this.requestConfig,r.requestConfig,{headers:y({},this.headers,r.headers||{})},this.native,r.native,{responseProcessor:[].concat(this.responseProcessor,r.responseProcessor||[])}))},e}();function x(e){if(e&&!(e instanceof A))throw new Error("Configuration object should be instace of RequestConfig");var r=new Map,t=new Map,n=e||new A;function o(e,o){var i=n.merge(o),a=i.native,u=i.requestConfig,c=i.headers,f=i.responseProcessor,s=""+e+(a.requestHash||""),l=a.cacheRequests&&t.has(s);if(l)return function(e,r){return Promise.resolve(e.get(r))}(t,s);var d=new AbortController,v=function(e){return r.delete(p),e},p=fetch(e,y({},u,{headers:c,signal:d.signal})).then(v).then(function(e){return a.doNotParseResponse?e:function(e,r,t){void 0===t&&(t=!1);try{var n,o=function(){if(e.ok)return n;if(r)return r;throw t?{response:n,status:e.status,statusText:e.statusText}:n},i=e.headers.get("content-type").split(";")[0],a=function(){if(/^text\//.test(i))return Promise.resolve(e.text()).then(function(e){n=e});var r=function(){if(/^image\//.test(i))return Promise.resolve(e.blob()).then(function(e){n=e});var r=function(){if("application/json"===i)return Promise.resolve(e.json()).then(function(e){n=e});var r=function(){if("multipart/form-data"===i)return Promise.resolve(e.formData()).then(function(e){n=e});console.warn("Not recognized content-type: "+e.headers.get("content-type")),n=e}();return r&&r.then?r.then(function(){}):void 0}();return r&&r.then?r.then(function(){}):void 0}();return r&&r.then?r.then(function(){}):void 0}();return Promise.resolve(a&&a.then?a.then(o):o())}catch(e){return Promise.reject(e)}}(e,a.fallback,a.useErrorWrapper)}).then(function(e){return a.cacheRequests?function(e,r,t,n){var o=Boolean(n)?n.reduce(function(e,r){return r(e)},e):e;return t.set(r,o),o}(e,s,t,f):f?f.reduce(function(e,r){return r(e)},e):e}).catch(function(e){return function(r){throw e(),r}}(v));return!l&&r.set(p,function(){return d.abort()}),p}return{get:function(e,r){if(r&&!(r instanceof A))throw new Error("Configuration object should be instace of RequestConfig");var t=new A({method:"GET"});return o(e,r?r.merge(t):t)},post:function(e,r,t){var n=function(e,r){return{bodyContent:!r||r instanceof A?!e||e instanceof A?void 0:e:r,configuration:e instanceof A?e:r instanceof A?r:void 0}}(r,t),i=n.configuration,a=n.bodyContent;if(i&&!(i instanceof A))throw new Error("Configuration object should be instace of RequestConfig");var u=new A({method:"POST",body:E(a,null==i?void 0:i.headers)});return o(e,i?i.merge(u):u)},abort:function(e){r.has(e)&&(r.get(e)(),r.delete(e))},request:o,releaseCache:function(e,r){if(void 0===r&&(r=""),"string"!=typeof r)throw new Error("RequestHash need to be a string");var n=e?e instanceof RegExp?e:""+e+r:null;if("string"==typeof n)t.delete(n);else if(n instanceof RegExp)for(var o,i=b(t.keys());!(o=i()).done;){var a=o.value;n.test(a)&&t.delete(a)}else t.clear()},updateConfig:function(e){for(var r in e)e.hasOwnProperty(r)&&n.update(r,e[r])}}}function E(e,t){void 0===t&&(t={});var n=t["content-type"]||t["Content-Type"];if(e)return"application/json"===n||"text/plain"===n?JSON.stringify(e):"application/x-www-form-urlencoded"===n&&r(e)?new URLSearchParams(e):r(e)?O(e):JSON.stringify(e)}function O(e){var r=new FormData;return Object.keys(e).forEach(function(t){var n,o="string"==typeof(n=e[t])||"number"==typeof n||"boolean"==typeof n?e[t]:JSON.stringify(e[t]);r.append(t,o)}),r}var C={isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},object:function(e){return r(e)},array:function(e){return Array.isArray(e)},number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},symbol:function(e){return"symbol"==typeof e},boolean:function(e){return"boolean"==typeof e},matches:function(e){return function(r){return e.test(r)}},objectOf:function(e){return function(t){return r(t)&&{value:t,schema:e}}},arrayOf:function(e){return function(r){return Array.isArray(r)&&{value:r,schema:e}}}};function j(e,t,n){if(void 0===n&&(n={}),"function"==typeof t){var o=t(e);if(Array.isArray(o.value))return o.value.every(function(e){return Array.isArray(o.schema)?o.schema.some(function(r){return j(e,r,{silent:!0})}):j(e,o.schema)});if(r(o.schema))return Object.keys(o.schema).every(function(e){if(void 0===o.value[e])throw new Error('Missing property "'+e+'"');return j(o.value[e],o.schema[e])});if(!1===o){if(n.silent)return!1;throw console.error("Mismatch value:",e),new Error('Value "'+e+'" does not match schema type.')}return!0}throw new Error('Incorrect schema type. Got "'+typeof t+'" instead of schema-type function.')}function k(e){void 0===e&&(e="button[data-action]");var r,t=new Map,n=Object.freeze({addAction:function(e,r){if(t.has(e))throw new Erron('Action "'+e+'" already exist.');return t.set(e,r),n},addDefaultAction:function(e){return r=e,n},done:function(n){return function(o){if(o.target.matches(e)){var i=o.target.dataset.action,a=t.get(i),u={action:i,event:o,dataset:o.target.dataset};"function"==typeof a?a(u):r&&r(u),"function"==typeof n&&n(u)}}}});return n}function P(e){var r=new Map,t=Object.freeze({key:function(e,n){var o=N(e);return r.set(o,n),t},done:function(){return function(t){var n=N({key:t.code,alt:t.altKey,ctrl:t.ctrlKey,meta:t.metaKey,shift:t.shiftKey});(!e||e(t))&&r.has(n)&&r.get(n)(t)}}});return t}function N(e){var r;if("string"==typeof e)r=e;else{if("object"!=typeof e)throw new Error("Keyboard Helper Error: Invalid event config");var t=e.ctrl,n=e.alt,o=e.meta;r=e.key+(Boolean(e.shift)?"+Shift":"")+(Boolean(t)?"+Ctrl":"")+(Boolean(n)?"+Alt":"")+(Boolean(o)?"+Meta":"")}return r}function M(e){var r={},t=function(e){return function(t){if(t.target.dataset[e]){var n=r[t.target.dataset[e]];n&&n(t)}}};[].slice.call(arguments,1).forEach(function(r){e.addEventListener(r,t(r))});var n=function(e,t){r[e]||(r[e]=t)},o=function(e,t){r[e](t)};return Object.freeze({add:n,callHandler:o})}function R(e,r,t,n){return void 0===n&&(n=!1),e.addEventListener(r,t,n),function(){return e.removeEventListener(r,t,n)}}function S(){var e=[].slice.call(arguments),r=e.pop(),t=r.indexOf("?");if(-1==t)return[];var n=new URLSearchParams(r.slice(t+1));return e.map(function(e){var r=n.getAll(e);return r.length<2?r[0]:r})}function q(e,r,t){var n=e.slice(0,e.indexOf("?")+1),o=n?e.slice(e.indexOf("?")+1,e.length):e,i="string"==typeof r,a=new URLSearchParams(o);return i?T(a,r,t):Object.keys(r).forEach(function(e){var t=r[e];Array.isArray(t)?(a.delete(e),t.forEach(function(r){return a.append(e,r)})):T(a,e,t)}),n+a.toString()}function T(e,r,t){void 0===t?e.delete(r):e.set(r,t)}function L(e,r){return e.reduce(function(e,t){return e[t[r]]=t,e},{})}function I(e,r){for(var t=0,n=e.length,o=[];t<n;t+=r)o.push(e.slice(t,t+r));return o}function z(e,r){return{added:r.filter(function(r){return!~e.indexOf(r)}),removed:e.filter(function(e){return!~r.indexOf(e)})}}function H(e,r){for(var t,n,o=e.slice(0),i=e.length,a=i-r;i-- >a;)t=o[n=Math.floor((i+1)*Math.random())],o[n]=o[i],o[i]=t;return o.slice(a)}function U(e){for(var r=[],t=-1,n=e.length;++t!==n;r[t]=e[t]);return r}function _(e,r,t){for(var n=-1,o=e.length,i=o-1;++n<o;)t=r(t,e[n],n,n===i);return t}function B(e,r){for(var t=0,n=e.length;t<n;)r(e[t],t,e),t++}function F(e){for(var r,t,n=e.length,o=[].concat(e);0!==n;)t=Math.floor(Math.random()*n),r=o[n-=1],o[n]=o[t],o[t]=r;return o}function D(e,r,t){void 0===t&&(t=function(e){return e});var n=r.toLowerCase();return[].concat(e).sort(function(e,r){var o=t(e).indexOf(n),i=t(r).indexOf(n);return(o<0?Infinity:o)-(i<0?Infinity:i)})}function K(e,r){var t=[].concat(e);return t.splice(r,1),t}function G(e,r){var t=e.indexOf(r);if(-1===t)return e;var n=[].concat(e);return n.splice(t,1),n}function V(e,r,t){var n=[].concat(e);return n.splice(r,1,t),n}function J(e,r,t){var n=[].concat(e),o=n.splice(r,1);return n.splice(t,0,o[0]),n}function W(e,r,t){var n=[].concat(e);return n.splice(r,0,t),n}function X(e,r){return void 0===r&&(r={includeCheckValues:!1}),Array.from(e.elements).reduce(function(e,t){return t.name&&("radio"===t.type?t.checked&&(e[t.name]=t.value):e[t.name]="checkbox"===t.type?r.includeCheckValues?{value:t.value,checked:t.checked}:t.checked:t.value),e},{})}function $(e,r){var t=!e instanceof HTMLElement?document.querySelector(e):e;Array.from(t.elements).forEach(function(e){var t=r[e.name];void 0!==t&&(function(e){return null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e}(t)?e.value=t:Object.keys(t).forEach(function(r){return e[r]=t[r]}))})}function Q(e,r){if(!r.length)return e;for(var t,n=[],o=function(e){var r=e.split(","),t=r.length>1?r.reduce(function(e,r){var t=r.trim();return t.length?""+e+t+"|":e},""):r[0]+"|";return new RegExp(t.slice(0,-1),"gi")}(r);t=o.exec(e);)n.push([t.index,t.index+t[0].length]);return n.reverse().reduce(function(e,r){var t=r[0],n=r[1];return e.slice(0,t)+"<strong>"+e.slice(t,n)+"</strong>"+e.slice(n)},e)}function Y(e){void 0===e&&(e={});var r=new Map,t=e.debug,n=void 0!==t&&t,o=e.logger;r.set("/",{observers:new Map,broadcasters:[]});var i={on:function(e,t,a){var u=Z(e,t,a),c=u.namespace,f=u.event,s=u.observer;!r.has(c)&&r.set(c,{observers:new Map,broadcasters:[]});var l=r.get(c);return"*"===f?!l.broadcasters.includes(s)&&l.broadcasters.push(s):(!l.observers.has(f)&&l.observers.set(f,[]),l.observers.get(f).push(s)),n&&o&&o('A new subscription "'+f+'" was added to namespace "'+c+'".'),i},off:function(e,t,n){var o=Z(e,t,n),a=o.namespace,u=o.event,c=o.observer;if(r.has(a)){var f=r.get(a);if(f.observers.has(u)){var s=f.observers.get(u),l=s.indexOf(c);~l&&(s.splice(l,1),s.length?f.observers.set(u,s):(f.observers.delete(u),0===f.observers.size&&"/"!==a&&r.delete(a)))}}return i},dispatch:function(e,t,a){var u=function(e,r,t){var n,o,i;return void 0===t?(n="/",o=e,i=r):(n=e,o=r,i=t),{namespace:n,event:o,message:i}}(e,t,a),c=u.namespace,f=u.event,s=u.message;if(r.has(c)){var l=r.get(c);if(l.broadcasters.length&&l.broadcasters.forEach(function(e){return e(s,f)}),l.observers.has(f)){for(var d=l.observers.get(f),v=d.length,p=0;p<v;p++)d[p](s,f);n&&o&&o("published",{namespace:c,event:f,message:s,observersList:d})}else n&&console.warn('Event "'+f+'" does not exist in "'+c+'" namespace.')}return i}};return n&&(i.getNamespace=function(e,t){var n=(void 0===t?{}:t).remove;return!0===(void 0!==n&&n)?("/"!==e&&r.delete(e),r):e?r.get(e):r}),Object.freeze(i)}function Z(e,r,t){var n,o,i;if(void 0===t?(n="/",o=e,i=r):(n=e,o=r,i=t),"string"!=typeof n)throw new Error("PubSub Error: namespace should be a string");if("string"!=typeof o)throw new Error("PubSub Error: subscribe event should be a string");if("function"!=typeof i)throw new Error("PubSub Error: the observer should be a function");return{namespace:n,event:o,observer:i}}function ee(e,r,t){var n;return function(){var o=[].slice.call(arguments),i=function(){n=null,!t&&e.apply(void 0,o)};clearTimeout(n),n=setTimeout(i,r),t&&!n&&e.apply(void 0,o)}}var re=function(e,r){var t,n=0;return function(){(t=new Date)-n<=r&&(e.apply(void 0,[].slice.call(arguments)),t=0),n=t}};function te(e,r){var t,n=this,o=!1;return function(){o||(clearTimeout(t),e.apply(n,[].slice.call(arguments)),o=!0,t=setTimeout(function(){return o=!1},r))}}function ne(e,r){return[e.slice(0,r),e.slice(r)]}function oe(e,r,t){return""+e.slice(0,t)+r+e.slice(t,e.length)}function ie(e){var r=void 0===e||!Boolean(e.raw);if(r)throw new Error("html helper should be used as a tagFunction");return{markup:e.raw,inserts:[].slice.call(arguments,1)}}function ae(e,r){var t,n,o,i,a,u,c,f=e(r),s=(t=f.markup,n=f.inserts,o={},i=[],a=document.createElement("div"),u=xe(n),c=_(Array.from(t),function(e,r,t,n){var o=u[t],a=e+=r,c={value:o,index:t};if(!n){var f;if(function(e){return e.lastIndexOf("<")>e.lastIndexOf(">")}(a)){var s=a.lastIndexOf("<"),l=a.slice(0,s),d=a.slice(s);a=d.includes("data-hk")?l+d.replace(/data-hk="(.+?)"/,function(e,r){return'data-hk="'+r+" "+t+'"'}):l+oe(d,' data-hk="'+t+'"',d.indexOf(" ")),f="%#"+t+"#%"}else f=void 0===o||he(o)?'<i data-hk="'+t+'" data-typ3="text"></i>':ye(o)?'<i data-hk="'+t+'" data-typ3="node"></i>':Array.isArray(o)?'<i data-hk="'+t+'" data-typ3="list"></i>':"";return i.push(c),a+f}return a},""),a.insertAdjacentHTML("beforeend",c),B(U(a.querySelectorAll("[data-hk]")),function(e){var r=e.dataset.typ3;if(void 0===r){var t=Array.prototype.slice.call(e.attributes).reduce(function(e,r){if(new RegExp("%#\\d+#%","g").test(r.value)){var t=Array.from(r.value.matchAll(new RegExp("%#(\\d+)#%","g"))).map(function(e){return e[1]}),n={name:r.name,template:r.value};0===n.name.indexOf("?")&&(n.name=n.name.slice(1),n.bool=!0);for(var o,i=b(t);!(o=i()).done;)e[o.value]=n}return e},{});Object.keys(t).forEach(function(r){var n=i[r].value,o=t[r];if(i[r].ref=e,i[r].container=me(e),o.bool)i[r].type="bool:attribute",e.removeAttribute("?"+o.name),n?e.setAttribute(o.name,o.name):e.removeAttribute(o.name);else{if(!pe(n))throw new Error('Only String, Numbers, Undefined or False can be passed as attributes. Got: "'+typeof n+'" at "'+r+'" value.');i[r].type="attribute",ve(e,o,i)}}),o=y({},o,t)}else{var n=i[Number(e.dataset.hk)];"text"===r?(n.type="text",n.ref=document.createTextNode(n.value||""),n.container=me(e),n.container.ref.replaceChild(n.ref,e)):"node"===r?(n.type="node",n.ref=n.value,n.container=me(e),n.container.ref.replaceChild(n.ref,e)):"list"===r&&(n.type="list",n.ref=e.parentNode,n.container=me(e),ge(n.value,e))}e.removeAttribute("data-hk")}),{element:Ae(a),bindings:i,attributes:o}),l=s.element;return l.update=function(e,r,t,n){return function(o){return B(xe(n(o).inserts),function(e,r){return function(t,n){return t!==e[n].value&&function(e,r,t,n){var o=r[e];if(o){if("bool:attribute"===o.type){var i=t[o.index];o.value?o.ref.setAttribute(i.name,i.name):o.ref.removeAttribute(i.name)}else if("attribute"===o.type){if(!pe(n))throw new Error('Only String, Numbers, Undefined or False can be passed as attributes. Got: "'+typeof n+'" at value of index: "'+o.index+'".');o.value=n,ve(o.ref,t[o.index],r)}else if("text"===o.type)void 0===n?o.ref.textContent="":he(n)?o.ref.textContent=n:ye(n)?(o.type="node",o.container.ref.replaceChild(n,o.ref),o.ref=n):Array.isArray(n)&&(ge(n,o.ref),o.type="list",o.ref=n);else if("node"===o.type)if(void 0===n){var a=document.createTextNode("");o.container.ref.replaceChild(a,o.ref),o.type="text",o.ref=a}else if(he(n)){var u=document.createTextNode(n);o.container.ref.replaceChild(u,o.ref),o.type="text",o.ref=u}else ye(n)?(o.container.ref.replaceChild(n,o.ref),o.type="node",o.ref=n):Array.isArray(n)&&(ge(n,o.ref),o.type="list",o.ref=n);else if("list"===o.type)if(void 0===n){var c=document.createTextNode("");de(o.container.index,c,o.container.ref),we(o.value,o.container.ref),o.type="text",o.ref=c}else if(he(n)){var f=document.createTextNode(n);de(o.container.index,f,o.container.ref),we(o.value,o.container.ref),o.type="text",o.ref=f}else ye(n)?(de(o.container.index,n,o.container.ref),we(o.value,o.container.ref),o.type="node",o.ref=n):Array.isArray(n)&&(B(o.value,function(e){return!n.includes(e)&&e.remove()}),B(n,function(e,r){(-1===o.value.indexOf(e)||o.value[r]!==e)&&de(o.container.index+r,e,o.container.ref)}));o.value=n}}(n,e,r,t)}}(r,t)),e}}(l,s.bindings,s.attributes,e),l.refs=function(e){var r={};return B(U(e.querySelectorAll("[ref]")),function(e){var t=e.getAttribute("ref");r[t]=e,e.removeAttribute("ref")}),Object.freeze(r)}(l),l}var ue=[],ce=3e5,fe=setInterval(le,ce);function se(e){return void 0===e&&(e=1),new Array(e).fill(!0).map(function(){return ue.push(null),e=ue.length-1,function(r,t,n){if("function"==typeof n)return ue[e]?t.map(function(t){var o=ue[e][n(t)];return o?o.update(t):o=ue[e][n(t)]=r(t)}):(ue[e]={},t.map(function(t){var o=r(t);return ue[e][n(t)]=o,o}));if(ue[e]){var o=t.map(function(e,t){return ue[t][t]?ue[t][t].update(e):r(e)});return o.length>ue[e].length&&(ue[e]=o),o}var i=t.map(r);return ue[e]=i,i};var e})}function le(){for(var e=function(e){var r=ue[e];if(r)if(Array.isArray(r))for(var t=0;t<r.length;t++)document.contains(array[t])||r.splice(t,0);else Object.keys(r).forEach(function(e){document.contains(r[e])||delete r[e]})},r=0;r<ue.length;r++)e(r)}function de(e,r,t){r!==t.childNodes[e]&&(0===e?0===t.childNodes.length?t.append(r):t.childNodes[0].before(r):t.childNodes[e-1].after(r))}function ve(e,r,t){var n=r.template.replace(/%#(\d+)#%/g,function(e,r){var n=t[Number(r)].value;return void 0===n||!1===n?"":n});e.setAttribute(r.name,n),"value"===r.name&&(e.value=n)}function pe(e){return void 0===e||!1===e||"number"==typeof e||"string"==typeof e}function he(e){return"number"==typeof e||"string"==typeof e}function ye(e){return e instanceof HTMLElement||e instanceof Text}function me(e){return{ref:e.parentNode,index:be(e)}}function be(e){for(var r=0;null!==(e=e.previousSibling);)r++;return r}function ge(e,r){B(e,function(e){return ye(e)&&r.before(e)}),r.remove()}function we(e,r){B(e,function(e){return e.parentNode===r&&e.remove()})}function Ae(e){return 1===e.children.length?e.children[0]:e}function xe(e){return e.map(function(e){return"string"==typeof e?Ee(e):e})}function Ee(e){var r={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return e.replace(/[&<>'"]/g,function(e){return r[e]})}function Oe(e){var r={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'};return e.replace(/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,function(e){return r[e]})}function Ce(e){return document.createRange().createContextualFragment(e)}function je(e){if(!e)throw new Error("getNodesPath error: stopSelector is required");return function r(t,n){return void 0===n&&(n=[t]),t.parentNode.matches(e)?n:(n.push(t.parentNode),r(t.parentNode,n))}}function ke(e,r){var t=document.createElement("style");return r&&(t.dataset.styleName=r),document.head.appendChild(t).textContent=e,t}function Pe(e){var r=document.querySelector("*[data-import]");if(!r)return e&&e();var t=r.dataset.import;r.removeAttribute("data-import"),fetch(t).then(function(e){if(e.ok)return e.text();throw Error("Cannot import file: "+t)}).then(function(n){r.innerHTML=n,r.dispatchEvent(new CustomEvent("htmlLoaded",{bubbles:!0,detail:{file:t}})),Pe(e)}).catch(function(t){r.innerHTML='<strong style="color:red;">Cannot import module!</strong>',console.error(t),Pe(e)})}function Ne(e,r){var t=e.match(/[\w-:]+=".+?"/g);t&&(t=t.map(function(e){return r=e.replace(/"/g,""),t=e.indexOf("="),[r.substring(0,t),r.substring(t+1)];var r,t}));var n,o=~e.indexOf("[")?e.slice(0,e.indexOf("[")):e,i=~o.indexOf(".")?o.split("."):[o],a=i[0];if(i.length>0&&(i=i.slice(1,i.length).join(" ")),~a.indexOf("#")){var u=a.split("#");a=u[0],n=u[1]}var c=document.createElement(a);return n&&(c.id=n),r&&("string"==typeof r?c.innerHTML=r:r instanceof HTMLElement&&c.appendChild(r)),t&&t.forEach(function(e){return c.setAttribute(e[0],e[1])}),i&&(c.className=i),c}function Me(e,r){void 0===r&&(r={});var t=r.isModule,n=r.onComplete,o=document.createElement("script");o.setAttribute("type",t?"module":"text/javascript"),n&&o.addEventListener("load",function e(){o.removeEventListener("load",e),n()}),o.setAttribute("src",e),document.head.appendChild(o)}function Re(e,r,t){void 0===t&&(t=[]),Array.from(e.attributes||[]).forEach(function(e){return!~t.indexOf(e.name)&&r.setAttribute(e.name,e.value)})}function Se(e){if(0===e.childNodes.length)return e.remove();e.parentNode.insertBefore(e.firstChild,e),Se(e)}function qe(e,r){for(;e.childNodes.length>0;)r.appendChild(e.firstChild);return r}function Te(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,r){return String.fromCharCode("0x"+r)}))}function Le(e,r){void 0===r&&(r=0);for(var t,n=3735928559^r,o=1103547991^r,i=e.length,a=0;a<i;a++)t=e.charCodeAt(a),n=Math.imul(n^t,2654435761),o=Math.imul(o^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),4294967296*(2097151&(o=Math.imul(o^o>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)}function Ie(e){return e.split("").reduce(function(e,r){return(e=(e<<5)-e+r.charCodeAt(0))&e},0)}function ze(e){var r={},t=new Map;return r.on=function(e,n){if(t.has(e))throw new Error('Action name "'+e+'" already exist');if("string"!=typeof e)throw new Error("Action name should be a string");if("function"!=typeof n)throw new Error("Action reducer should be a function");return t.set(e,n),r},r.done=function(){return function(r,n){if(void 0===r&&(r=e),!n)throw new Error("Action is required to run a reducer");return t.has(n.type)?t.get(n.type)(r,n):r}},r}function He(e){var r,t=[],n=[e],o=Y();if(!e)throw new Error("MiniRDXError: The Main Reducer is required to create a store");function i(e,n){var o=Ue(e)?e:{type:e,payload:n};r=a(o,r),function(e){return"initialize:true"!==e.type&&"defineReducer:true"!==e.type}(o)&&t.forEach(function(e){return e(r)})}function a(e,r){o.dispatch(e.type,r);var t=n.reduce(function(r,t){return"function"==typeof t.setter?(t.setter(r,t(r,e)),r):t(r,e)},r);return o.dispatch(e.type+"::afterupdate",t),t}return i.batch=function(){r=[].slice.call(arguments).reduce(function(e,r){var t=r[0],n=r[1];return a(Ue(t)?t:{type:t,payload:n},e)},r),t.forEach(function(e){return e(r)})},i("initialize:true"),{getState:function(){return r},subscribe:function(e){return!t.includes(e)&&t.push(e),function(){t=t.filter(function(r){return r!==e})}},dispatch:i,defineReducer:function(e,r,t){var o=function(t,n){return e(r(t),n)};o.setter=t,n.push(o),i("defineReducer:true")},on:function(e,r){return o.on(e,r),function(){o.off(e,r)}}}}function Ue(e){return"object"==typeof e&&e.hasOwnProperty("type")&&e.hasOwnProperty("payload")}function _e(e){var r=e.split(".");return{getter:function(e){return r.reduce(function(e,r){return/\w+\[\d+\]/.test(r)?Be(e,r):e[r]},e)},setter:function(e,t){var n=r.length-1;r.reduce(function(e,r,o){return o===n&&(/\w+\[\d+\]/.test(r)?function(e,r,t){var n=r.indexOf("["),o=r.slice(0,n),i=Number(r.slice(n+1,r.length-1));e[o][i]=t}(e,r,t):e[r]=t),/\w+\[\d+\]/.test(r)?Be(e,r):e[r]},e)}}}function Be(e,r){var t=r.indexOf("["),n=r.slice(0,t),o=Number(r.slice(t+1,r.length-1));return e[n][o]}se.__setTerminateInterval=function(e){if(void 0===e)return ce;0===e?clearInterval(fe):(clearInterval(fe),ce=e,fe=setInterval(le,ce))};var Fe=function(e,r){return{type:e,payload:r}};export{Y as PubSub,A as RequestConfig,Fe as action,L as arrayToObject,ke as attachStyle,Te as base64,k as catchAction,M as catchEvents,j as checkSchema,I as chunksArray,z as compareArrays,Re as copyAttrs,Ne as createElement,R as createEventHandler,ze as createReducer,se as createRepeater,x as createRequest,_e as createSelector,He as createStore,ee as debounce,l as deepCopy,u as deepOverride,ae as dynamicElement,Ce as elFromString,Ee as escapeHtml,Se as extractNodes,a as fuzzySearch,X as getFormFields,je as getNodesPath,S as getQueryParams,o as getRandomNumber,H as getRandomSubarray,Le as hash53,Ie as hashCode,Q as highlight,ie as html,e as hyphenate,Pe as importHtml,re as inDeltaTime,t as inPolygon,Me as includeScriptTag,W as insertAtIndex,r as isObject,P as keyboard,B as loop,h as loopstack,qe as moveNodes,U as nodeListToArray,O as objectToFormData,oe as placeStrBetween,_ as reduce,K as removeByIndex,G as removeByInstance,V as replaceByIndex,C as schemaTypes,F as shuffleArray,D as sortByPhraseIndex,ne as splitAtIndex,J as swapOrder,te as throttle,i as uid,Oe as unEscapeHtml,$ as updateForm,q as updateQueryParams,n as wordCase};
